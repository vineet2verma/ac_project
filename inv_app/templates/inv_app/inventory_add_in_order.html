<div class="modal fade" id="inventoryModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-md">

    <form method="POST"
          action="{% url 'inv_app:order_inventory_add' order.id %}"
          class="modal-content">

      {% csrf_token %}

      <!-- HEADER -->
      <div class="modal-header bg-success text-white py-2">
        <h6 class="modal-title mb-0">
          <i class="bi bi-box-seam"></i> Add Inventory Requirement
        </h6>
        <button type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"></button>
      </div>

      <!-- BODY -->
      <div class="modal-body">

        <!-- INVENTORY ITEM -->
        <div class="mb-2">
          <label class="form-label small fw-semibold">
            Inventory Item
          </label>
          <select name="inventory_id"
                  id="inventory_id"
                  class="form-select form-select-sm"
                  required>
            <option value="">-- Select Item --</option>
            {% for i in inventory_items %}
              <option value="{{ i.id }}"
                      data-stock="{{ i.current_qty }}">
                {{ i.item_name }} (Stock: {{ i.current_qty }})
              </option>
            {% endfor %}
          </select>
        </div>

        <!-- AVAILABLE STOCK -->
        <div class="mb-2">
          <label class="form-label small fw-semibold">
            Available Stock
          </label>
          <input type="text"
                 id="available_stock"
                 class="form-control form-control-sm"
                 placeholder="Select item"
                 readonly>
        </div>

        <!-- REQUIRED QTY -->
        <div class="mb-1">
          <label class="form-label small fw-semibold">
            Required Quantity
          </label>
          <input type="number"
                 step="0.01"
                 min="0"
                 name="qty"
                 id="consume_qty"
                 class="form-control form-control-sm"
                 required>
        </div>

        <!-- ALERT -->
        <small id="stockAlert"
               class="text-danger d-none">
          Required quantity exceeds available stock
        </small>

      </div>

      <!-- FOOTER -->
      <div class="modal-footer py-2">
        <button id="saveBtn"
                type="submit"
                class="btn btn-success btn-sm w-100">
          <i class="bi bi-check-circle"></i> Add Inventory
        </button>
      </div>

    </form>
  </div>
</div>